import{o as q,E as B,aB as D,aC as L,h as z,aD as G,aE as K,aF as M,aG as $,K as P,q as Q,at as b,j as U}from"./DGbS--Tb.js";import{j as W}from"./DLEunuUT.js";import{d as k,u as R}from"./CrsfmuFP.js";import{l as H}from"./PY5PLdAU.js";const J=()=>performance.now(),m={tick:r=>requestAnimationFrame(r),now:()=>J(),tasks:new Set};function j(){const r=m.now();m.tasks.forEach(t=>{t.c(r)||(m.tasks.delete(t),t.f())}),m.tasks.size!==0&&m.tick(j)}function V(r){let t;return m.tasks.size===0&&m.tick(j),{promise:new Promise(a=>{m.tasks.add(t={c:r,f:a})}),abort(){m.tasks.delete(t)}}}function T(r,t){$(()=>{r.dispatchEvent(new CustomEvent(t))})}function X(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const t=r.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("")}function I(r){const t={},a=r.split(";");for(const n of a){const[i,o]=n.split(":");if(!i||o===void 0)break;const c=X(i.trim());t[c]=o.trim()}return t}const Y=r=>r;function ot(r,t,a,n){var i=(r&K)!==0,o=(r&M)!==0,c=i&&o,_=(r&G)!==0,w=c?"both":i?"in":"out",u,d=t.inert,h=t.style.overflow,f,v;function l(){return $(()=>u??=a()(t,n?.()??{},{direction:w}))}var e={is_global:_,in(){if(t.inert=d,!i){v?.abort(),v?.reset?.();return}o||f?.abort(),T(t,"introstart"),f=S(t,l(),v,1,()=>{T(t,"introend"),f?.abort(),f=u=void 0,t.style.overflow=h})},out(A){if(!o){A?.(),u=void 0;return}t.inert=!0,T(t,"outrostart"),v=S(t,l(),f,0,()=>{T(t,"outroend"),A?.()})},stop:()=>{f?.abort(),v?.abort()}},p=q;if((p.nodes.t??=[]).push(e),i&&W){var y=_;if(!y){for(var s=p.parent;s&&(s.f&B)!==0;)for(;(s=s.parent)&&(s.f&D)===0;);y=!s||(s.f&L)!==0}y&&z(()=>{U(()=>e.in())})}}function S(r,t,a,n,i){var o=n===1;if(P(t)){var c,_=!1;return Q(()=>{if(!_){var p=t({direction:o?"in":"out"});c=S(r,p,a,n,i)}}),{abort:()=>{_=!0,c?.abort()},deactivate:()=>c.deactivate(),reset:()=>c.reset(),t:()=>c.t()}}if(a?.deactivate(),!t?.duration)return i(),{abort:b,deactivate:b,reset:b,t:()=>n};const{delay:w=0,css:u,tick:d,easing:h=Y}=t;var f=[];if(o&&a===void 0&&(d&&d(0,1),u)){var v=I(u(0,1));f.push(v,v)}var l=()=>1-n,e=r.animate(f,{duration:w,fill:"forwards"});return e.onfinish=()=>{e.cancel();var p=a?.t()??1-n;a?.abort();var y=n-p,s=t.duration*Math.abs(y),A=[];if(s>0){var N=!1;if(u)for(var C=Math.ceil(s/16.666666666666668),g=0;g<=C;g+=1){var F=p+y*h(g/C),x=I(u(F,1-F));A.push(x),N||=x.overflow==="hidden"}N&&(r.style.overflow="hidden"),l=()=>{var E=e.currentTime;return p+y*h(E/s)},d&&V(()=>{if(e.playState!=="running")return!1;var E=l();return d(E,1-E),!0})}e=r.animate(A,{duration:s,fill:"forwards"}),e.onfinish=()=>{l=()=>n,d?.(n,1-n),i()}},{abort:()=>{e&&(e.cancel(),e.effect=null,e.onfinish=b)},deactivate:()=>{i=b},reset:()=>{n===0&&d?.(1,0)},t:()=>l()}}async function st(r,t){const a={id:R(),name:r,currency:t,createdAt:new Date().toISOString()};return await k.accounts.add(a),a}async function ct(r){return!r||!r.name||!r.currency?!1:await k.accounts.filter(a=>!a.archived&&a.name===r.name&&a.currency===r.currency).first()!==void 0}async function Z(r,t){await k.accounts.update(r,{archived:!0,replacedBy:t})}async function ft(r,t,a){const n={id:R(),name:t,currency:a,createdAt:new Date().toISOString()};return await k.accounts.add(n),await Z(r,n.id),n}const ut=H(()=>k.accounts.filter(r=>!r.archived).toArray().then(r=>r.sort((t,a)=>t.name.localeCompare(a.name)))),tt=r=>r;function rt(r){const t=r-1;return t*t*t+1}function O(r){const t=typeof r=="string"&&r.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[r,"px"]}function dt(r,{delay:t=0,duration:a=400,easing:n=tt}={}){const i=+getComputedStyle(r).opacity;return{delay:t,duration:a,easing:n,css:o=>`opacity: ${o*i}`}}function vt(r,{delay:t=0,duration:a=400,easing:n=rt,x:i=0,y:o=0,opacity:c=0}={}){const _=getComputedStyle(r),w=+_.opacity,u=_.transform==="none"?"":_.transform,d=w*(1-c),[h,f]=O(i),[v,l]=O(o);return{delay:t,duration:a,easing:n,css:(e,p)=>`
			transform: ${u} translate(${(1-e)*h}${f}, ${(1-e)*v}${l});
			opacity: ${w-d*p}`}}export{vt as a,ut as b,st as c,Z as d,ct as e,dt as f,ot as t,ft as u};
