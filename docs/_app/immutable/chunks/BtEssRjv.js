import{d as Ue,f as x,s as p,a as _,c as Y}from"./DLEunuUT.js";import{p as we,u as B,c as i,r as n,s as o,n as Z,t as U,b as ke,f as $,g as C}from"./DGbS--Tb.js";import{i as y}from"./n2OIzAHn.js";import{e as De,i as Ae}from"./B_GUWsKK.js";import{r as z,s as k,b as Q}from"./C_moINmN.js";import{a as T,b as I}from"./Bd0YDvlH.js";import{p as Se}from"./DifGwDUE.js";import{s as Ee,a as Be}from"./91cOknPb.js";import{f as V}from"./DQUEeQ73.js";import{d as ee}from"./BD-b5fFB.js";import{g as Ce}from"./aPq9-u7L.js";var Ie=x('<input type="text" placeholder="Description" class="bg-neutral-800 text-white px-3 py-2 rounded border border-neutral-700 focus:border-blue-500 outline-none"/>'),Ve=x('<p class="font-medium text-md"> </p>'),je=x('<div class="flex gap-2 items-center"><input type="number" step="0.01" placeholder="Amount" class="flex-1 bg-neutral-800 text-white px-3 py-2 rounded border border-neutral-700 focus:border-blue-500 outline-none"/> <select class="bg-neutral-800 text-white px-3 py-2 rounded border border-neutral-700 focus:border-blue-500 outline-none"><option>EUR</option><option>USD</option><option>RUB</option><option>ARS</option></select></div>'),Ke=x("<div> </div>"),qe=x('<div class="flex gap-2 items-center"><input type="number" step="0.01" placeholder="Exchanged Amount" class="flex-1 bg-neutral-800 text-white px-3 py-2 rounded border border-neutral-700 focus:border-blue-500 outline-none"/> <select class="bg-neutral-800 text-white px-3 py-2 rounded border border-neutral-700 focus:border-blue-500 outline-none"><option>EUR</option><option>USD</option><option>RUB</option><option>ARS</option></select></div>'),Fe=x('<div class="text-xl font-semibold text-neutral-400"> </div>'),Ge=x('<div class="flex gap-2 items-center"><input type="number" step="0.01" placeholder="Balance After" class="flex-1 bg-neutral-800 text-white px-3 py-2 rounded border border-neutral-700 focus:border-blue-500 outline-none"/> <select class="bg-neutral-800 text-white px-3 py-2 rounded border border-neutral-700 focus:border-blue-500 outline-none"><option>EUR</option><option>USD</option><option>RUB</option><option>ARS</option></select></div>'),He=x('<div class="text-xl font-semibold text-neutral-400"> </div>'),Je=x('<div class="flex justify-between items-center text-sm"><span class="text-neutral-300"> </span> <span class="text-neutral-400"> </span></div>'),Le=x('<div class="flex flex-col gap-1 pl-6"></div>'),Me=x('<div class="border-t border-neutral-800 pt-3"><div class="flex flex-col gap-3"><div class="flex flex-col gap-1"><!></div> <div class="flex flex-col gap-1"><span class="text-sm text-neutral-400">Amount</span> <!></div> <div class="flex flex-col gap-1"><div class="flex items-center gap-2"><input type="checkbox" class="w-4 h-4 rounded border-neutral-700 bg-neutral-800 text-blue-500 focus:ring-blue-500 focus:ring-offset-0"/> <span class="text-sm text-neutral-400">Exchanged Amount</span></div> <!></div> <div class="flex flex-col gap-1"><div class="flex items-center gap-2"><input type="checkbox" class="w-4 h-4 rounded border-neutral-700 bg-neutral-800 text-blue-500 focus:ring-blue-500 focus:ring-offset-0"/> <span class="text-sm text-neutral-400">Balance After</span></div> <!></div> <div class="flex flex-col gap-1"><div class="flex items-center gap-2"><input type="checkbox" class="w-4 h-4 rounded border-neutral-700 bg-neutral-800 text-blue-500 focus:ring-blue-500 focus:ring-offset-0"/> <button type="button" class="text-sm text-neutral-400 hover:text-neutral-200 text-left"> </button></div> <!></div> <div class="flex gap-2 flex-wrap"><button type="button"> </button> <button type="button">Internal</button> <button type="button">Exchange</button> <button type="button">Calculated</button></div></div></div>');function tt(te,a){we(a,!0);const ae=()=>Ee(ee,"$detalizationData",ne),[ne,re]=Be();let e=Se(a,"value",15);function ie(){a.edit&&e(e().kind=e().kind==="debit"?"credit":"debit",!0)}function oe(){a.edit&&e(e().is_internal=!e().is_internal,!0)}function le(){a.edit&&e(e().exchanged=!e().exchanged,!0)}function ue(){a.edit&&e(e().is_calculated=!e().is_calculated,!0)}function de(){a.edit&&(e().detalization||e(e().detalization=[],!0),ee.set({entries:e().detalization,accountCurrency:a.account.currency}),Ce("/detalization"))}B(()=>{e().exchanged&&!e().amount_exchanged&&e(e().amount_exchanged={value:0,currency:a.account.currency},!0)}),B(()=>{e().has_balance&&!e().balance_after&&e(e().balance_after={value:0,currency:a.account.currency},!0)}),B(()=>{e().has_detalization&&!e().detalization&&e(e().detalization=[],!0)}),B(()=>{const t=ae();t&&e().detalization&&e(e().detalization=t.entries,!0)});var j=Me(),W=i(j),K=i(W),ce=i(K);{var se=t=>{var r=Ie();z(r),I(r,()=>e().description,s=>e(e().description=s,!0)),_(t,r)},ve=t=>{var r=Ve(),s=i(r,!0);n(r),U(()=>p(s,e().description)),_(t,r)};y(ce,t=>{a.edit?t(se):t(ve,!1)})}n(K);var q=o(K,2),_e=o(i(q),2);{var be=t=>{var r=je(),s=i(r);z(s);var v=o(s,2),b=i(v);b.value=b.__value="EUR";var l=o(b);l.value=l.__value="USD";var u=o(l);u.value=u.__value="RUB";var d=o(u);d.value=d.__value="ARS",n(v),n(r),I(s,()=>e().amount.value,c=>e(e().amount.value=c,!0)),Q(v,()=>e().amount.currency,c=>e(e().amount.currency=c,!0)),_(t,r)},xe=t=>{var r=Ke(),s=i(r);n(r),U(v=>{k(r,1,`text-xl font-semibold ${e().kind==="credit"?"text-green-500":"text-white"}`),p(s,`${(a.account.currency!==e().amount.currency?e().amount.currency:"")??""}
                    ${v??""}`)},[()=>V(e().amount)]),_(t,r)};y(_e,t=>{a.edit?t(be):t(xe,!1)})}n(q);var F=o(q,2),G=i(F),H=i(G);z(H),Z(2),n(G);var fe=o(G,2);{var pe=t=>{var r=Y(),s=$(r);{var v=l=>{var u=qe(),d=i(u);z(d);var c=o(d,2),f=i(c);f.value=f.__value="EUR";var g=o(f);g.value=g.__value="USD";var m=o(g);m.value=m.__value="RUB";var w=o(m);w.value=w.__value="ARS",n(c),n(u),I(d,()=>e().amount_exchanged.value,h=>e(e().amount_exchanged.value=h,!0)),Q(c,()=>e().amount_exchanged.currency,h=>e(e().amount_exchanged.currency=h,!0)),_(l,u)},b=l=>{var u=Fe(),d=i(u);n(u),U(c=>p(d,`${(a.account.currency!==e().amount_exchanged.currency?e().amount_exchanged.currency:"")??""}
                        ${c??""}`),[()=>V(e().amount_exchanged)]),_(l,u)};y(s,l=>{a.edit?l(v):l(b,!1)})}_(t,r)};y(fe,t=>{e().exchanged&&e().amount_exchanged!=null&&t(pe)})}n(F);var J=o(F,2),L=i(J),M=i(L);z(M),Z(2),n(L);var ge=o(L,2);{var me=t=>{var r=Y(),s=$(r);{var v=l=>{var u=Ge(),d=i(u);z(d);var c=o(d,2),f=i(c);f.value=f.__value="EUR";var g=o(f);g.value=g.__value="USD";var m=o(g);m.value=m.__value="RUB";var w=o(m);w.value=w.__value="ARS",n(c),n(u),I(d,()=>e().balance_after.value,h=>e(e().balance_after.value=h,!0)),Q(c,()=>e().balance_after.currency,h=>e(e().balance_after.currency=h,!0)),_(l,u)},b=l=>{var u=He(),d=i(u);n(u),U(c=>p(d,`${(a.account.currency!==e().balance_after.currency?e().balance_after.currency:"")??""}
                        ${c??""}`),[()=>V(e().balance_after)]),_(l,u)};y(s,l=>{a.edit?l(v):l(b,!1)})}_(t,r)};y(ge,t=>{e().has_balance&&e().balance_after!=null&&t(me)})}n(J);var N=o(J,2),O=i(N),D=i(O);z(D);var A=o(D,2);A.__click=de;var he=i(A);n(A),n(O);var ye=o(O,2);{var ze=t=>{var r=Le();De(r,21,()=>e().detalization,Ae,(s,v)=>{var b=Je(),l=i(b),u=i(l,!0);n(l);var d=o(l,2),c=i(d);n(d),n(b),U(f=>{p(u,C(v).name),p(c,`${(a.account.currency!==C(v).amount.currency?C(v).amount.currency:"")??""}
                                ${f??""}`)},[()=>V(C(v).amount)]),_(s,b)}),n(r),_(t,r)};y(ye,t=>{!a.edit&&e().has_detalization&&e().detalization&&e().detalization.length>0&&t(ze)})}n(N);var X=o(N,2),R=i(X);R.__click=ie;var Re=i(R,!0);n(R);var S=o(R,2);S.__click=oe;var E=o(S,2);E.__click=le;var P=o(E,2);P.__click=ue,n(X),n(W),n(j),U(()=>{H.disabled=!a.edit,M.disabled=!a.edit,D.disabled=!a.edit,A.disabled=!a.edit,p(he,`Detalization ${e().detalization&&e().detalization.length>0?`(${e().detalization.length})`:""}`),k(R,1,`text-md bg-neutral-700 text-white px-2 py-0.5 rounded ${a.edit?"cursor-pointer hover:bg-neutral-600":""}`),R.disabled=!a.edit,p(Re,e().kind==="debit"?"Debit":"Credit"),k(S,1,`text-md ${e().is_internal?"bg-blue-500":"bg-neutral-700"} text-white px-2 py-0.5 rounded ${a.edit?"cursor-pointer hover:bg-neutral-600":""}`),S.disabled=!a.edit,k(E,1,`text-md ${e().exchanged?"bg-purple-500":"bg-neutral-700"} text-white px-2 py-0.5 rounded ${a.edit?"cursor-pointer hover:bg-neutral-600":""}`),E.disabled=!a.edit,k(P,1,`text-md ${e().is_calculated?"bg-amber-500":"bg-neutral-700"} text-white px-2 py-0.5 rounded ${a.edit?"cursor-pointer hover:bg-neutral-600":""}`),P.disabled=!a.edit}),T(H,()=>e().exchanged,t=>e(e().exchanged=t,!0)),T(M,()=>e().has_balance,t=>e(e().has_balance=t,!0)),T(D,()=>e().has_detalization,t=>e(e().has_detalization=t,!0)),_(te,j),ke(),re()}Ue(["click"]);export{tt as V};
