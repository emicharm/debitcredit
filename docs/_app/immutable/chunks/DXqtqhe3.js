import{az as V,y as q,B as j,aA as $,C as g,aB as Q,R as W,aC as Z,aD as X,aE as m,w as M,aF as x,aG as ee,aa as ae,aH as re,aI as se,d as te,aJ as ie,Q as H,aK as ue,aL as fe,aM as le,aN as oe,aO as ce}from"./CiQ3Fy3v.js";import{d as ne,e as ve,g as _e,n as de,j as he}from"./C3JrJLfx.js";import{t as be,c as ye,s as pe}from"./DEE5Eib0.js";function Ae(e,r){var a=void 0,s;V(()=>{a!==(a=r())&&(s&&(q(s),s=null),a&&(s=j(()=>{$(()=>a(e))})))})}function P(e,r={},a,s){for(var t in a){var f=a[t];r[t]!==f&&(a[t]==null?e.style.removeProperty(t):e.style.setProperty(t,f,s))}}function ge(e,r,a,s){var t=e.__style;if(g||t!==r){var f=be(r,s);(!g||f!==e.getAttribute("style"))&&(f==null?e.removeAttribute("style"):e.style.cssText=f),e.__style=r}else s&&(Array.isArray(s)?(P(e,a?.[0],s[0]),P(e,a?.[1],s[1],"important")):P(e,a,s));return s}function L(e,r,a=!1){if(e.multiple){if(r==null)return;if(!Z(r))return X();for(var s of e.options)s.selected=r.includes(w(s));return}for(s of e.options){var t=w(s);if(m(t,r)){s.selected=!0;return}}(!a||r!==void 0)&&(e.selectedIndex=-1)}function D(e){var r=new MutationObserver(()=>{L(e,e.__value)});r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),W(()=>{r.disconnect()})}function Ie(e,r,a=r){var s=new WeakSet,t=!0;Q(e,"change",f=>{var _=f?"[selected]":":checked",d;if(e.multiple)d=[].map.call(e.querySelectorAll(_),w);else{var h=e.querySelector(_)??e.querySelector("option:not([disabled])");d=h&&w(h)}a(d),M!==null&&s.add(M)}),$(()=>{var f=r();if(e===document.activeElement){var _=x??M;if(s.has(_))return}if(L(e,f,t),t&&f===void 0){var d=e.querySelector(":checked");d!==null&&(f=w(d),a(f))}e.__value=f,t=!1}),D(e)}function w(e){return"__value"in e?e.__value:e.value}const T=Symbol("class"),k=Symbol("style"),K=Symbol("is custom element"),Y=Symbol("is html");function Se(e){if(g){var r=!1,a=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var s=e.value;C(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var t=e.checked;C(e,"checked",null),e.checked=t}}};e.__on_r=a,ae(a),re()}}function Ne(e,r){r?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function C(e,r,a,s){var t=z(e);g&&(t[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||t[r]!==(t[r]=a)&&(r==="loading"&&(e[oe]=a),a==null?e.removeAttribute(r):typeof a!="string"&&F(e).includes(r)?e[r]=a:e.setAttribute(r,a))}function Ee(e,r,a,s,t=!1,f=!1){if(g&&t&&e.tagName==="INPUT"){var _=e,d=_.type==="checkbox"?"defaultChecked":"defaultValue";d in a||Se(_)}var h=z(e),b=h[K],p=!h[Y];let S=g&&b;S&&H(!1);var l=r||{},N=e.tagName==="OPTION";for(var y in r)y in a||(a[y]=null);a.class?a.class=ye(a.class):a[T]&&(a.class=null),a[k]&&(a.style??=null);var I=F(e);for(const i in a){let u=a[i];if(N&&i==="value"&&u==null){e.value=e.__value="",l[i]=u;continue}if(i==="class"){var E=e.namespaceURI==="http://www.w3.org/1999/xhtml";pe(e,E,u,s,r?.[T],a[T]),l[i]=u,l[T]=a[T];continue}if(i==="style"){ge(e,u,r?.[k],a[k]),l[i]=u,l[k]=a[k];continue}var n=l[i];if(!(u===n&&!(u===void 0&&e.hasAttribute(i)))){l[i]=u;var U=i[0]+i[1];if(U!=="$$")if(U==="on"){const v={},A="$$"+i;let o=i.slice(2);var O=he(o);if(ne(o)&&(o=o.slice(0,-7),v.capture=!0),!O&&n){if(u!=null)continue;e.removeEventListener(o,l[A],v),l[A]=null}if(u!=null)if(O)e[`__${o}`]=u,_e([o]);else{let G=function(J){l[i].call(this,J)};l[A]=ve(o,e,G,v)}else O&&(e[`__${o}`]=void 0)}else if(i==="style")C(e,i,u);else if(i==="autofocus")ue(e,!!u);else if(!b&&(i==="__value"||i==="value"&&u!=null))e.value=e.__value=u;else if(i==="selected"&&N)Ne(e,u);else{var c=i;p||(c=de(c));var B=c==="defaultValue"||c==="defaultChecked";if(u==null&&!b&&!B)if(h[i]=null,c==="value"||c==="checked"){let v=e;const A=r===void 0;if(c==="value"){let o=v.defaultValue;v.removeAttribute(c),v.defaultValue=o,v.value=v.__value=A?o:null}else{let o=v.defaultChecked;v.removeAttribute(c),v.defaultChecked=o,v.checked=A?o:!1}}else e.removeAttribute(i);else B||I.includes(c)&&(b||typeof u!="string")?(e[c]=u,c in h&&(h[c]=fe)):typeof u!="function"&&C(e,c,u)}}}return S&&H(!0),l}function Le(e,r,a=[],s=[],t=[],f,_=!1,d=!1){se(t,a,s,h=>{var b=void 0,p={},S=e.nodeName==="SELECT",l=!1;if(V(()=>{var y=r(...h.map(te)),I=Ee(e,b,y,f,_,d);l&&S&&"value"in y&&L(e,y.value);for(let n of Object.getOwnPropertySymbols(p))y[n]||q(p[n]);for(let n of Object.getOwnPropertySymbols(y)){var E=y[n];n.description===ie&&(!b||E!==b[n])&&(p[n]&&q(p[n]),p[n]=j(()=>Ae(e,()=>E))),I[n]=E}b=I}),S){var N=e;$(()=>{L(N,b.value,!0),D(N)})}l=!0})}function z(e){return e.__attributes??={[K]:e.nodeName.includes("-"),[Y]:e.namespaceURI===ee}}var R=new Map;function F(e){var r=e.getAttribute("is")||e.nodeName,a=R.get(r);if(a)return a;R.set(r,a=[]);for(var s,t=e,f=Element.prototype;f!==t;){s=ce(t);for(var _ in s)s[_].set&&a.push(_);t=le(t)}return a}export{Le as a,Ie as b,Se as r,C as s};
