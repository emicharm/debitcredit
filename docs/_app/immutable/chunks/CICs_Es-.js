import{b as Ue,d as We,c as K,a as _,f as D}from"./WWbFbjJS.js";import{z as N,B as Ce,G as $e,b6 as Le,x as He,a6 as Ie,b7 as Ge,A as Ye,w as Ke,F as ze,y as ye,j as Qe,a7 as Ve,ah as Ae,ak as r,ag as R,am as c,al as t,aj as Oe,b as Ee,ad as oe,d as l,b3 as Y,b8 as me,aP as Se,ai as ie}from"./Bow1OZnd.js";import{b as qe,s as $}from"./nWXYrCo0.js";import{i as we,s as Je,a as Xe}from"./ByjQvePl.js";import{e as le,i as ce}from"./DQHJhzHT.js";import{l as Ze,d as et,s as je}from"./-8jCxlFC.js";import{a as Me,s as tt}from"./YXp652Ud.js";import{i as at}from"./CFGo3L2Q.js";import{l as te,p as ee,s as _e}from"./qsQThey9.js";import{B as rt}from"./UCNKLIib.js";function de(g,s,d,v,p){N&&Ce();var b=s.$$slots?.[d],i=!1;b===!0&&(b=s.children,i=!0),b===void 0||b(g,i?()=>v:v)}function st(g,s,d,v,p,b){let i=N;N&&Ce();var o=null;N&&$e.nodeType===Le&&(o=$e,Ce());var y=N?$e:g,Q=new rt(y,!1);He(()=>{const z=s()||null;var S=Ge;if(z===null){Q.ensure(null,null);return}return Q.ensure(z,U=>{if(z){if(o=N?o:document.createElementNS(S,z),Ue(o,o),v){N&&qe(z)&&o.append(document.createComment(""));var W=N?Ye(o):o.appendChild(Ke());N&&(W===null?ze(!1):ye(W)),v(o,W)}Qe.nodes.end=o,U.before(o)}N&&ye(U)}),()=>{}},Ie),Ve(()=>{}),i&&(ze(!0),ye(y))}const nt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var ot=We("<svg><!><!></svg>");function ge(g,s){const d=te(s,["children","$$slots","$$events","$$legacy"]),v=te(d,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);Ae(s,!1);let p=ee(s,"name",8,void 0),b=ee(s,"color",8,"currentColor"),i=ee(s,"size",8,24),o=ee(s,"strokeWidth",8,2),y=ee(s,"absoluteStrokeWidth",8,!1),Q=ee(s,"iconNode",24,()=>[]);const z=(...L)=>L.filter((a,e,n)=>!!a&&n.indexOf(a)===e).join(" ");at();var S=ot();Me(S,(L,a)=>({...nt,...v,width:i(),height:i(),stroke:b(),"stroke-width":L,class:a}),[()=>(oe(y()),oe(o()),oe(i()),Ee(()=>y()?Number(o())*24/Number(i()):o())),()=>(oe(p()),oe(d),Ee(()=>z("lucide-icon","lucide",p()?`lucide-${p()}`:"",d.class)))]);var U=r(S);le(U,1,Q,ce,(L,a)=>{var e=Y(()=>me(l(a),2));let n=()=>l(e)[0],u=()=>l(e)[1];var M=K(),w=R(M);st(w,n,!0,(m,x)=>{Me(m,()=>({...u()}))}),_(L,M)});var W=c(U);de(W,s,"default",{}),t(S),_(g,S),Oe()}function it(g,s){const d=te(s,["children","$$slots","$$events","$$legacy"]);const v=[["line",{x1:"12",x2:"12",y1:"2",y2:"22"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"}]];ge(g,_e({name:"dollar-sign"},()=>d,{get iconNode(){return v},children:(p,b)=>{var i=K(),o=R(i);de(o,s,"default",{}),_(p,i)},$$slots:{default:!0}}))}function lt(g,s){const d=te(s,["children","$$slots","$$events","$$legacy"]);const v=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor"}]];ge(g,_e({name:"tag"},()=>d,{get iconNode(){return v},children:(p,b)=>{var i=K(),o=R(i);de(o,s,"default",{}),_(p,i)},$$slots:{default:!0}}))}function ct(g,s){const d=te(s,["children","$$slots","$$events","$$legacy"]);const v=[["path",{d:"M16 17h6v-6"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7"}]];ge(g,_e({name:"trending-down"},()=>d,{get iconNode(){return v},children:(p,b)=>{var i=K(),o=R(i);de(o,s,"default",{}),_(p,i)},$$slots:{default:!0}}))}function dt(g,s){const d=te(s,["children","$$slots","$$events","$$legacy"]);const v=[["path",{d:"M16 7h6v6"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17"}]];ge(g,_e({name:"trending-up"},()=>d,{get iconNode(){return v},children:(p,b)=>{var i=K(),o=R(i);de(o,s,"default",{}),_(p,i)},$$slots:{default:!0}}))}var vt=D('<div class="text-center py-8 text-neutral-500">No transactions to analyze</div>'),ut=D('<div class="mb-4"><h3 class="text-sm font-medium text-neutral-400 mb-2"> </h3> <div class="grid grid-cols-3 gap-2"><div class="bg-neutral-900 rounded-lg p-2"><div class="flex items-center gap-1 text-green-400 mb-1"><!> <span class="text-xs">Income</span></div> <p class="text-sm font-bold"> </p></div> <div class="bg-neutral-900 rounded-lg p-2"><div class="flex items-center gap-1 text-red-400 mb-1"><!> <span class="text-xs">Expenses</span></div> <p class="text-sm font-bold"> </p></div> <div class="bg-neutral-900 rounded-lg p-2"><div class="flex items-center gap-1 text-blue-400 mb-1"><!> <span class="text-xs">Balance</span></div> <p> </p></div></div></div>'),ft=D('<div class="bg-neutral-900 rounded-lg p-3"><div class="flex justify-between items-start mb-1"><div class="flex items-center gap-2"><!> <span class="text-sm font-medium"> </span> <span class="text-xs text-neutral-500"> </span></div></div> <div class="text-sm text-neutral-300 font-mono"> </div> <div class="mt-2 bg-neutral-800 rounded-full h-2 overflow-hidden"><div class="bg-gradient-to-r from-blue-600 to-blue-400 h-full rounded-full transition-all"></div></div></div>'),mt=D('<div class="text-sm"><span class="text-neutral-500"> </span> <span> </span></div>'),_t=D('<div class="bg-neutral-800 rounded-lg p-4"><div class="mb-4"><h3 class="font-semibold"> </h3> <p class="text-xs text-neutral-400"> </p></div> <div class="space-y-2"></div> <div class="mt-4 pt-3 border-t border-neutral-700"><div class="text-xs text-neutral-400 mb-2">Monthly totals:</div> <div class="flex flex-wrap gap-3"></div></div></div>'),gt=D('<div class="bg-neutral-800 rounded-lg p-4 mb-6"><h2 class="text-lg font-semibold mb-4">Overall Summary</h2> <!> <div class="text-xs text-neutral-500 mt-3"> </div></div> <h2 class="text-lg font-semibold mb-4">Monthly Breakdown by Category</h2> <div class="space-y-3"></div>',1),pt=D('<div class="text-center py-8 text-neutral-500">Loading statistics...</div>'),bt=D('<div class="p-4"><h1 class="text-2xl font-bold mb-6">Monthly Statistics</h1> <!></div>');function Et(g,s){Ae(s,!0);const d=()=>Xe(b,"$transactions",v),[v,p]=Je(),b=Ze(()=>et.transactions.toArray()),i=Y(()=>{if(!d())return[];const a=new Map;return d().forEach(e=>{const n=new Date(e.date),u=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}`,M=n.toLocaleDateString("en-US",{month:"long"}),w=n.getFullYear(),m=e.currency||"EUR",x=e.category||"Uncategorized",ve=e.kind||"debit";a.has(u)||a.set(u,{month:M,year:w,categories:{},currencies:{},transactionCount:0});const f=a.get(u);f.transactionCount++,f.currencies[m]||(f.currencies[m]={debit:0,credit:0,balance:0}),f.categories[x]||(f.categories[x]={currencies:{},transactionCount:0,totalSpent:0}),ve==="debit"?(f.currencies[m].debit+=e.amount,f.currencies[m].balance-=e.amount,f.categories[x].currencies[m]||(f.categories[x].currencies[m]=0),f.categories[x].currencies[m]+=e.amount,f.categories[x].transactionCount++,f.categories[x].totalSpent+=e.amount):(f.currencies[m].credit+=e.amount,f.currencies[m].balance+=e.amount)}),Array.from(a.entries()).sort(([e],[n])=>n.localeCompare(e)).map(([e,n])=>n)}),o=Y(()=>{const a={currencies:{},transactionCount:0};return l(i).forEach(e=>{a.transactionCount+=e.transactionCount,Object.entries(e.currencies).forEach(([n,u])=>{a.currencies[n]||(a.currencies[n]={debit:0,credit:0,balance:0}),a.currencies[n].debit+=u.debit,a.currencies[n].credit+=u.credit,a.currencies[n].balance+=u.balance})}),a});function y(a,e){const u={EUR:"€",USD:"$",RUB:"₽",ARS:"$"}[e]||e;return`${a.toFixed(2)} ${u}`}function Q(a){return Object.entries(a).filter(([e,n])=>n>0).map(([e,n])=>{const u=e==="ARS"?"ARS":e;return`${n.toFixed(0)} ${u}`}).join(" • ")}function z(a,e){const n=Object.values(e.categories).reduce((u,M)=>u+M.totalSpent,0);return n===0?0:a.totalSpent/n*100}var S=bt(),U=c(r(S),2);{var W=a=>{var e=K(),n=R(e);{var u=w=>{var m=vt();_(w,m)},M=w=>{var m=gt(),x=R(m),ve=c(r(x),2);le(ve,17,()=>Object.entries(l(o).currencies),ce,(pe,A)=>{var V=Y(()=>me(l(A),2));let O=()=>l(V)[0],C=()=>l(V)[1];var ae=ut(),q=r(ae),be=r(q,!0);t(q);var J=c(q,2),X=r(J),Z=r(X),H=r(Z);dt(H,{size:14}),Se(2),t(Z);var T=c(Z,2),I=r(T);t(T),t(X);var P=c(X,2),h=r(P),B=r(h);ct(B,{size:14}),Se(2),t(h);var E=c(h,2),re=r(E);t(E),t(P);var F=c(P,2),k=r(F),G=r(k);it(G,{size:14}),Se(2),t(k);var j=c(k,2);let se;var ue=r(j);t(j),t(F),t(J),t(ae),ie((ne,xe,fe)=>{$(be,O()),$(I,`+${ne??""}`),$(re,`-${xe??""}`),se=je(j,1,"text-sm font-bold",null,se,{"text-green-400":C().balance>=0,"text-red-400":C().balance<0}),$(ue,`${C().balance>=0?"+":""}${fe??""}`)},[()=>y(C().credit,O()),()=>y(C().debit,O()),()=>y(C().balance,O())]),_(pe,ae)});var f=c(ve,2),Te=r(f);t(f),t(x);var ke=c(x,4);le(ke,21,()=>l(i),ce,(pe,A)=>{var V=_t(),O=r(V),C=r(O),ae=r(C);t(C);var q=c(C,2),be=r(q);t(q),t(O);var J=c(O,2);le(J,21,()=>Object.entries(l(A).categories).sort((H,T)=>T[1].totalSpent-H[1].totalSpent),ce,(H,T)=>{var I=Y(()=>me(l(T),2));let P=()=>l(I)[0],h=()=>l(I)[1];const B=Y(()=>z(h(),l(A)));var E=K(),re=R(E);{var F=k=>{var G=ft(),j=r(G),se=r(j),ue=r(se);lt(ue,{size:14,class:"text-neutral-500"});var ne=c(ue,2),xe=r(ne,!0);t(ne);var fe=c(ne,2),Pe=r(fe);t(fe),t(se),t(j);var he=c(j,2),Be=r(he,!0);t(he);var Ne=c(he,2),Fe=r(Ne);t(Ne),t(G),ie((Re,De)=>{$(xe,P()),$(Pe,`(${Re??""}%)`),$(Be,De),tt(Fe,`width: ${l(B)??""}%`)},[()=>l(B).toFixed(1),()=>Q(h().currencies)]),_(k,G)};we(re,k=>{Object.keys(h().currencies).length>0&&k(F)})}_(H,E)}),t(J);var X=c(J,2),Z=c(r(X),2);le(Z,21,()=>Object.entries(l(A).currencies),ce,(H,T)=>{var I=Y(()=>me(l(T),2));let P=()=>l(I)[0],h=()=>l(I)[1];var B=mt(),E=r(B),re=r(E);t(E);var F=c(E,2);let k;var G=r(F);t(F),t(B),ie(j=>{$(re,`${P()??""}:`),k=je(F,1,"font-medium",null,k,{"text-green-400":h().balance>=0,"text-red-400":h().balance<0}),$(G,`${h().balance>=0?"+":""}${j??""}`)},[()=>y(h().balance,P())]),_(H,B)}),t(Z),t(X),t(V),ie(()=>{$(ae,`${l(A).month??""} ${l(A).year??""}`),$(be,`${l(A).transactionCount??""} transactions`)}),_(pe,V)}),t(ke),ie(()=>$(Te,`Total transactions: ${l(o).transactionCount??""}`)),_(w,m)};we(n,w=>{d().length===0?w(u):w(M,!1)})}_(a,e)},L=a=>{var e=pt();_(a,e)};we(U,a=>{d()?a(W):a(L,!1)})}t(S),_(g,S),Oe(),p()}export{ge as I,dt as T,Et as _,de as s};
