import{c as I,a as v,f as E}from"./BAiWUMxs.js";import{a3 as D,a4 as we,a6 as Oe,a9 as o,a7 as a,a8 as e,ap as ue,a5 as V,d as n,aJ as H,a$ as me}from"./C2Gd-opD.js";import{s as _}from"./BTXFnc8K.js";import{i as pe,s as Ae,a as Ee}from"./BllsiFYd.js";import{l as Re,d as Ue,e as te,s as fe,i as ae}from"./DysnsIBk.js";import{I as re,s as se,c as ke}from"./xBARtqOG.js";import"./DsfFs0Vy.js";import{l as ne,s as oe}from"./C8lAee4v.js";function De($,u){const m=ne(u,["children","$$slots","$$events","$$legacy"]);const h=[["line",{x1:"12",x2:"12",y1:"2",y2:"22"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"}]];re($,oe({name:"dollar-sign"},()=>m,{get iconNode(){return h},children:(y,Y)=>{var l=I(),f=D(l);se(f,u,"default",{}),v(y,l)},$$slots:{default:!0}}))}function Fe($,u){const m=ne(u,["children","$$slots","$$events","$$legacy"]);const h=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor"}]];re($,oe({name:"tag"},()=>m,{get iconNode(){return h},children:(y,Y)=>{var l=I(),f=D(l);se(f,u,"default",{}),v(y,l)},$$slots:{default:!0}}))}function Pe($,u){const m=ne(u,["children","$$slots","$$events","$$legacy"]);const h=[["path",{d:"M16 17h6v-6"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7"}]];re($,oe({name:"trending-down"},()=>m,{get iconNode(){return h},children:(y,Y)=>{var l=I(),f=D(l);se(f,u,"default",{}),v(y,l)},$$slots:{default:!0}}))}function Te($,u){const m=ne(u,["children","$$slots","$$events","$$legacy"]);const h=[["path",{d:"M16 7h6v6"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17"}]];re($,oe({name:"trending-up"},()=>m,{get iconNode(){return h},children:(y,Y)=>{var l=I(),f=D(l);se(f,u,"default",{}),v(y,l)},$$slots:{default:!0}}))}var Le=E('<div class="text-center py-8 text-neutral-500">No transactions to analyze</div>'),Be=E('<div class="mb-4"><h3 class="text-sm font-medium text-neutral-400 mb-2"> </h3> <div class="grid grid-cols-3 gap-2"><div class="bg-neutral-900 rounded-lg p-2"><div class="flex items-center gap-1 text-green-400 mb-1"><!> <span class="text-xs">Income</span></div> <p class="text-sm font-bold"> </p></div> <div class="bg-neutral-900 rounded-lg p-2"><div class="flex items-center gap-1 text-red-400 mb-1"><!> <span class="text-xs">Expenses</span></div> <p class="text-sm font-bold"> </p></div> <div class="bg-neutral-900 rounded-lg p-2"><div class="flex items-center gap-1 text-blue-400 mb-1"><!> <span class="text-xs">Balance</span></div> <p> </p></div></div></div>'),He=E('<div class="bg-neutral-900 rounded-lg p-3"><div class="flex justify-between items-start mb-1"><div class="flex items-center gap-2"><!> <span class="text-sm font-medium"> </span> <span class="text-xs text-neutral-500"> </span></div></div> <div class="text-sm text-neutral-300 font-mono"> </div> <div class="mt-2 bg-neutral-800 rounded-full h-2 overflow-hidden"><div class="bg-gradient-to-r from-blue-600 to-blue-400 h-full rounded-full transition-all"></div></div></div>'),Ie=E('<div class="text-sm"><span class="text-neutral-500"> </span> <span> </span></div>'),Ye=E('<div class="bg-neutral-800 rounded-lg p-4"><div class="mb-4"><h3 class="font-semibold"> </h3> <p class="text-xs text-neutral-400"> </p></div> <div class="space-y-2"></div> <div class="mt-4 pt-3 border-t border-neutral-700"><div class="text-xs text-neutral-400 mb-2">Monthly totals:</div> <div class="flex flex-wrap gap-3"></div></div></div>'),Je=E('<div class="bg-neutral-800 rounded-lg p-4 mb-6"><h2 class="text-lg font-semibold mb-4">Overall Summary</h2> <!> <div class="text-xs text-neutral-500 mt-3"> </div></div> <h2 class="text-lg font-semibold mb-4">Monthly Breakdown by Category</h2> <div class="space-y-3"></div>',1),Ke=E('<div class="text-center py-8 text-neutral-500">Loading statistics...</div>'),Qe=E('<div class="p-4"><h1 class="text-2xl font-bold mb-6">Monthly Statistics</h1> <!></div>');function at($,u){we(u,!0);const m=()=>Ee(Y,"$transactions",h),[h,y]=Ae(),Y=Re(()=>Ue.transactions.toArray()),l=H(()=>{if(!m())return[];const r=new Map;return m().forEach(t=>{const s=new Date(t.date),c=`${s.getFullYear()}-${String(s.getMonth()+1).padStart(2,"0")}`,J=s.toLocaleDateString("en-US",{month:"long"}),z=s.getFullYear(),d=t.currency||"EUR",g=t.category||"Uncategorized",X=t.kind||"debit";r.has(c)||r.set(c,{month:J,year:z,categories:{},currencies:{},transactionCount:0});const i=r.get(c);i.transactionCount++,i.currencies[d]||(i.currencies[d]={debit:0,credit:0,balance:0}),i.categories[g]||(i.categories[g]={currencies:{},transactionCount:0,totalSpent:0}),X==="debit"?(i.currencies[d].debit+=t.amount,i.currencies[d].balance-=t.amount,i.categories[g].currencies[d]||(i.categories[g].currencies[d]=0),i.categories[g].currencies[d]+=t.amount,i.categories[g].transactionCount++,i.categories[g].totalSpent+=t.amount):(i.currencies[d].credit+=t.amount,i.currencies[d].balance+=t.amount)}),Array.from(r.entries()).sort(([t],[s])=>s.localeCompare(t)).map(([t,s])=>s)}),f=H(()=>{const r={currencies:{},transactionCount:0};return n(l).forEach(t=>{r.transactionCount+=t.transactionCount,Object.entries(t.currencies).forEach(([s,c])=>{r.currencies[s]||(r.currencies[s]={debit:0,credit:0,balance:0}),r.currencies[s].debit+=c.debit,r.currencies[s].credit+=c.credit,r.currencies[s].balance+=c.balance})}),r});function W(r,t){const c={EUR:"€",USD:"$",RUB:"₽",ARS:"$"}[t]||t;return`${r.toFixed(2)} ${c}`}function xe(r){return Object.entries(r).filter(([t,s])=>s>0).map(([t,s])=>{const c=t==="ARS"?"ARS":t;return`${s.toFixed(0)} ${c}`}).join(" • ")}function be(r,t){const s=Object.values(t.categories).reduce((c,J)=>c+J.totalSpent,0);return s===0?0:r.totalSpent/s*100}var ie=Qe(),$e=o(a(ie),2);{var he=r=>{var t=I(),s=D(t);{var c=z=>{var d=Le();v(z,d)},J=z=>{var d=Je(),g=D(d),X=o(a(g),2);te(X,17,()=>Object.entries(n(f).currencies),ae,(ce,N)=>{var F=H(()=>me(n(N),2));let M=()=>n(F)[0],x=()=>n(F)[1];var K=Be(),P=a(K),le=a(P,!0);e(P);var T=o(P,2),L=a(T),B=a(L),R=a(B);Te(R,{size:14}),ue(2),e(B);var j=o(B,2),U=a(j);e(j),e(L);var w=o(L,2),p=a(w),O=a(p);Pe(O,{size:14}),ue(2),e(p);var S=o(p,2),Q=a(S);e(S),e(w);var A=o(w,2),b=a(A),k=a(b);De(k,{size:14}),ue(2),e(b);var C=o(b,2);let q;var Z=a(C);e(C),e(A),e(T),e(K),V((G,de,ee)=>{_(le,M()),_(U,`+${G??""}`),_(Q,`-${de??""}`),q=fe(C,1,"text-sm font-bold",null,q,{"text-green-400":x().balance>=0,"text-red-400":x().balance<0}),_(Z,`${x().balance>=0?"+":""}${ee??""}`)},[()=>W(x().credit,M()),()=>W(x().debit,M()),()=>W(x().balance,M())]),v(ce,K)});var i=o(X,2),Se=a(i);e(i),e(g);var _e=o(g,4);te(_e,21,()=>n(l),ae,(ce,N)=>{var F=Ye(),M=a(F),x=a(M),K=a(x);e(x);var P=o(x,2),le=a(P);e(P),e(M);var T=o(M,2);te(T,21,()=>Object.entries(n(N).categories).sort((R,j)=>j[1].totalSpent-R[1].totalSpent),ae,(R,j)=>{var U=H(()=>me(n(j),2));let w=()=>n(U)[0],p=()=>n(U)[1];const O=H(()=>be(p(),n(N)));var S=I(),Q=D(S);{var A=b=>{var k=He(),C=a(k),q=a(C),Z=a(q);Fe(Z,{size:14,class:"text-neutral-500"});var G=o(Z,2),de=a(G,!0);e(G);var ee=o(G,2),Ce=a(ee);e(ee),e(q),e(C);var ve=o(C,2),ze=a(ve,!0);e(ve);var ge=o(ve,2),Ne=a(ge);e(ge),e(k),V((Me,je)=>{_(de,w()),_(Ce,`(${Me??""}%)`),_(ze,je),ke(Ne,`width: ${n(O)??""}%`)},[()=>n(O).toFixed(1),()=>xe(p().currencies)]),v(b,k)};pe(Q,b=>{Object.keys(p().currencies).length>0&&b(A)})}v(R,S)}),e(T);var L=o(T,2),B=o(a(L),2);te(B,21,()=>Object.entries(n(N).currencies),ae,(R,j)=>{var U=H(()=>me(n(j),2));let w=()=>n(U)[0],p=()=>n(U)[1];var O=Ie(),S=a(O),Q=a(S);e(S);var A=o(S,2);let b;var k=a(A);e(A),e(O),V(C=>{_(Q,`${w()??""}:`),b=fe(A,1,"font-medium",null,b,{"text-green-400":p().balance>=0,"text-red-400":p().balance<0}),_(k,`${p().balance>=0?"+":""}${C??""}`)},[()=>W(p().balance,w())]),v(R,O)}),e(B),e(L),e(F),V(()=>{_(K,`${n(N).month??""} ${n(N).year??""}`),_(le,`${n(N).transactionCount??""} transactions`)}),v(ce,F)}),e(_e),V(()=>_(Se,`Total transactions: ${n(f).transactionCount??""}`)),v(z,d)};pe(s,z=>{m().length===0?z(c):z(J,!1)})}v(r,t)},ye=r=>{var t=Ke();v(r,t)};pe($e,r=>{m()?r(he):r(ye,!1)})}e(ie),v($,ie),Oe(),y()}export{Te as T,at as _};
