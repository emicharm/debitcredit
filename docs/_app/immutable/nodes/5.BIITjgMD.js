import{f as h,e as W,a as p,s as B,c as Q,t as U,d as X}from"../chunks/DLEunuUT.js";import{p as R,d as D,B as J,u as G,e as C,t as V,g as l,b as E,c as u,r as c,s as x,f as Y,n as Z}from"../chunks/DGbS--Tb.js";import{i as T}from"../chunks/n2OIzAHn.js";import{e as I,i as q}from"../chunks/B_GUWsKK.js";import{s as $,a as tt}from"../chunks/91cOknPb.js";import{s as et}from"../chunks/BD-b5fFB.js";import{g as H}from"../chunks/BQV0UiJI.js";import{c as at}from"../chunks/Deku_TYj.js";import{r as rt,a as st,s as K}from"../chunks/C_moINmN.js";import{p as j}from"../chunks/DifGwDUE.js";import{f as N}from"../chunks/DQUEeQ73.js";import{b as ot}from"../chunks/Bd0YDvlH.js";import{b as nt}from"../chunks/bmokF4QT.js";import{V as it}from"../chunks/nRXbQ4yQ.js";var ct=h('<input type="text" inputmode="decimal"/>');function lt(g,a){R(a,!0);let r=j(a,"amount",15),d=j(a,"styleClass",3,""),s,e=D(J(N(r()))),f=D("auto");G(()=>{if(s){const t=document.createElement("span");t.style.visibility="hidden",t.style.position="absolute",t.style.whiteSpace="pre",t.className=s.className,t.textContent=l(e)||"0",document.body.appendChild(t);const m=t.offsetWidth;document.body.removeChild(t),C(f,`${Math.max(m+4,20)}px`)}}),G(()=>{(!s||document.activeElement!==s)&&C(e,N(r()),!0)});function b(){C(e,String(r().value),!0)}function v(){const t=l(e).replace(/,/g,"."),m=Math.abs(parseFloat(t));isNaN(m)?r(r().value=0,!0):r(r().value=m,!0),C(e,N(r()),!0)}var n=ct();rt(n),nt(n,t=>s=t,()=>s),V(()=>{st(n,`width: ${l(f)??""}; min-height: 1em; max-height: 1em; -webkit-text-size-adjust: 100%; vertical-align: center;`),K(n,1,`text-right bg-transparent outline-none px-0 h-[1em] leading-[1em] py-0 box-content overflow-hidden border-0 border-b border-gray-600 ${d()}`)}),W("focus",n,b),W("blur",n,v),ot(n,()=>l(e),t=>C(e,t)),p(g,n),E()}var ut=h('<div class="flex items-center mb-6"><div><!></div> <div><h1 class="text-2xl font-bold"> </h1></div></div>');function dt(g,a){let r=j(a,"color",3,"bg-neutral-800");var d=ut(),s=u(d),e=u(s);{var f=t=>{var m=Q(),w=Y(m);at(w,()=>a.icon,(o,i)=>{i(o,{size:24,class:"text-white"})}),p(t,m)};T(e,t=>{a.icon&&t(f)})}c(s);var b=x(s,2),v=u(b),n=u(v,!0);c(v),c(b),c(d),V(()=>{K(s,1,`w-12 h-12 ${r()} rounded-full mr-4 flex items-center justify-center`),B(n,a.category)}),p(g,d)}var vt=h('<div class="flex flex-col justify-between items-stretch mb-3"><div class="flex items-center-safe"><h2 class="flex-1 text-md font-semibold"> </h2> <div class="font-semibold text-neutral-400 text-xl text-right"><!> <!> </div></div> <p class="text-neutral-400 text-left text-sm">Balance</p></div>');function mt(g,a){R(a,!0);let r=j(a,"balance",15);var d=vt(),s=u(d),e=u(s),f=u(e);c(e);var b=x(e,2),v=u(b);{var n=o=>{lt(o,{styleClass:"text-xl",get amount(){return r()},set amount(i){r(i)}})};T(v,o=>{a.edit&&o(n)})}var t=x(v,2);{var m=o=>{var i=U();V(y=>B(i,y),[()=>N(r())]),p(o,i)};T(t,o=>{a.edit||o(m)})}var w=x(t);c(b),c(s),Z(2),c(d),V(()=>{B(f,`${a.account.name??""} ${a.account.currency??""}`),B(w,` ${(a.account.currency!==r().currency?r().currency:"")??""}`)}),p(g,d),E()}var ft=h('<div class="bg-neutral-900 rounded-lg p-4"><!> <div class="space-y-3"></div></div>'),bt=h('<div class="mb-6"><!> <div class="space-y-6"></div> <button class="w-full bg-green-500 hover:bg-green-600 text-white font-bold text-lg py-4 px-6 rounded-lg mt-6 transition-colors">Repeat</button></div>'),xt=h('<div class="text-center mt-8"><p class="text-neutral-400 mb-4">No transaction selected</p> <button class="text-blue-500">Go to Transactions</button></div>'),pt=h('<div class="mx-4 mt-4"><button class="text-blue-500 mb-4">← Back</button> <h1 class="text-2xl font-bold mb-6">Детализация</h1> <!></div>');function Ft(g,a){R(a,!0);const r=()=>$(et,"$selectedTransaction",d),[d,s]=tt();let e=J(r());function f(){H("/transactions")}function b(){H("/create")}var v=pt(),n=u(v);n.__click=f;var t=x(n,4);{var m=o=>{var i=bt(),y=u(i);dt(y,{get category(){return e.category},get color(){return e.color},get icon(){return e.icon}});var z=x(y,2);I(z,21,()=>e.movements,q,(O,_,_t)=>{var A=ft(),F=u(A);mt(F,{edit:!1,get account(){return l(_).account},set account(k){l(_).account=k},get balance(){return l(_).account_balance},set balance(k){l(_).account_balance=k}});var M=x(F,2);I(M,21,()=>l(_).values,q,(k,gt,S)=>{it(k,{get account(){return l(_).account},edit:!1,get value(){return l(_).values[S]},set value(P){l(_).values[S]=P}})}),c(M),c(A),p(O,A)}),c(z);var L=x(z,2);L.__click=b,c(i),p(o,i)},w=o=>{var i=xt(),y=x(u(i),2);y.__click=f,c(i),p(o,i)};T(t,o=>{e?o(m):o(w,!1)})}c(v),p(g,v),E(),s()}X(["click"]);export{Ft as component};
