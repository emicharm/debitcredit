import{f as J,e as K,a as Q,s as Y}from"../chunks/qyrakXDb.js";import{ah as ee,ai as te,a0 as ae,aj as re,h as ne,v as x,ak as oe,p as le,al as b,W as ie,c,s as n,t as se,g as o,a as ce,r as u,X as f}from"../chunks/Dpl_Y_Bh.js";import{b as ue,r as y}from"../chunks/DLOSDSel.js";import{d as de}from"../chunks/5E2LNP2R.js";import{g as fe,b as ve}from"../chunks/Bej_NfAT.js";function E(e,t,a=t){var r=new WeakSet;ee(e,"input",async l=>{var i=l?e.defaultValue:e.value;if(i=P(e)?F(i):i,a(i),x!==null&&r.add(x),await te(),i!==(i=t())){var p=e.selectionStart,d=e.selectionEnd,v=e.value.length;if(e.value=i??"",d!==null){var _=e.value.length;p===d&&d===v&&_>v?(e.selectionStart=_,e.selectionEnd=_):(e.selectionStart=p,e.selectionEnd=Math.min(d,_))}}}),(ne&&e.defaultValue!==e.value||ae(t)==null&&e.value)&&(a(P(e)?F(e.value):e.value),x!==null&&r.add(x)),re(()=>{var l=t();if(e===document.activeElement){var i=oe??x;if(r.has(i))return}P(e)&&l===F(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function P(e){var t=e.type;return t==="number"||t==="range"}function F(e){return e===""?null:+e}const H="0123456789ABCDEFGHJKMNPQRSTVWXYZ",h=32,be=16,Z=10,z=0xffffffffffff;var m;(function(e){e.Base32IncorrectEncoding="B32_ENC_INVALID",e.DecodeTimeInvalidCharacter="DEC_TIME_CHAR",e.DecodeTimeValueMalformed="DEC_TIME_MALFORMED",e.EncodeTimeNegative="ENC_TIME_NEG",e.EncodeTimeSizeExceeded="ENC_TIME_SIZE_EXCEED",e.EncodeTimeValueMalformed="ENC_TIME_MALFORMED",e.PRNGDetectFailure="PRNG_DETECT",e.ULIDInvalid="ULID_INVALID",e.Unexpected="UNEXPECTED",e.UUIDInvalid="UUID_INVALID"})(m||(m={}));class g extends Error{constructor(t,a){super(`${a} (${t})`),this.name="ULIDError",this.code=t}}function me(e){const t=Math.floor(e()*h)%h;return H.charAt(t)}function pe(e){const t=_e(),a=t&&(t.crypto||t.msCrypto)||null;if(typeof a?.getRandomValues=="function")return()=>{const r=new Uint8Array(1);return a.getRandomValues(r),r[0]/256};if(typeof a?.randomBytes=="function")return()=>a.randomBytes(1).readUInt8()/256;throw new g(m.PRNGDetectFailure,"Failed to find a reliable PRNG")}function _e(){return Ee()?self:typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:null}function xe(e,t){let a="";for(;e>0;e--)a=me(t)+a;return a}function ye(e,t=Z){if(isNaN(e))throw new g(m.EncodeTimeValueMalformed,`Time must be a number: ${e}`);if(e>z)throw new g(m.EncodeTimeSizeExceeded,`Cannot encode a time larger than ${z}: ${e}`);if(e<0)throw new g(m.EncodeTimeNegative,`Time must be positive: ${e}`);if(Number.isInteger(e)===!1)throw new g(m.EncodeTimeValueMalformed,`Time must be an integer: ${e}`);let a,r="";for(let l=t;l>0;l--)a=e%h,r=H.charAt(a)+r,e=(e-a)/h;return r}function Ee(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function ge(e,t){const a=pe(),r=Date.now();return ye(r,Z)+xe(be,a)}var he=J('<div class="p-4"><h1 class="text-2xl font-bold mb-6">Create Transaction</h1> <form class="space-y-4"><div class="flex flex-col gap-2"><label for="date" class="text-sm text-neutral-400">Date</label> <input id="date" type="date" required class="bg-neutral-800 text-white px-3 py-2 rounded border border-neutral-700 focus:border-blue-500 outline-none"/></div> <div class="flex flex-col gap-2"><label for="description" class="text-sm text-neutral-400">Description</label> <input id="description" type="text" placeholder="Enter description" required class="bg-neutral-800 text-white px-3 py-2 rounded border border-neutral-700 focus:border-blue-500 outline-none"/></div> <div class="flex flex-col gap-2"><label for="account" class="text-sm text-neutral-400">Account</label> <input id="account" type="text" placeholder="Enter account" required class="bg-neutral-800 text-white px-3 py-2 rounded border border-neutral-700 focus:border-blue-500 outline-none"/></div> <div class="flex gap-2"><div class="flex-1 flex flex-col gap-2"><label for="amount" class="text-sm text-neutral-400">Amount</label> <input id="amount" type="number" step="0.01" required class="bg-neutral-800 text-white px-3 py-2 rounded border border-neutral-700 focus:border-blue-500 outline-none"/></div> <div class="flex flex-col gap-2"><label for="currency" class="text-sm text-neutral-400">Currency</label> <select id="currency" class="bg-neutral-800 text-white px-3 py-2 rounded border border-neutral-700 focus:border-blue-500 outline-none"><option>EUR</option><option>USD</option><option>RUB</option><option>ARS</option></select></div></div> <div class="flex flex-col gap-2"><label for="category" class="text-sm text-neutral-400">Category</label> <input id="category" type="text" placeholder="Enter category" required class="bg-neutral-800 text-white px-3 py-2 rounded border border-neutral-700 focus:border-blue-500 outline-none"/></div> <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 disabled:bg-neutral-700 disabled:cursor-not-allowed text-white font-medium py-3 rounded-lg transition-colors"> </button></form></div>');function Me(e,t){le(t,!0);let a=b(ie(new Date().toISOString().split("T")[0])),r=b(""),l=b(0),i=b("EUR"),p=b(""),d=b(""),v=b(!1);async function _(s){s.preventDefault(),f(v,!0);try{const k={id:ge(),date:new Date(o(a)),description:o(r),amount:o(l),currency:o(i),account:o(p),category:o(d)};await de.transactions.add(k),fe(`${ve}/v1/list`)}catch(k){console.error("Failed to create transaction:",k),alert("Failed to create transaction")}finally{f(v,!1)}}var T=he(),N=n(c(T),2),D=c(N),$=n(c(D),2);y($),u(D);var R=n(D,2),B=n(c(R),2);y(B),u(R);var I=n(R,2),W=n(c(I),2);y(W),u(I);var M=n(I,2),S=c(M),L=n(c(S),2);y(L),u(S);var O=n(S,2),w=n(c(O),2),A=c(w);A.value=A.__value="EUR";var C=n(A);C.value=C.__value="USD";var G=n(C);G.value=G.__value="RUB";var q=n(G);q.value=q.__value="ARS",u(w),u(O),u(M);var V=n(M,2),X=n(c(V),2);y(X),u(V);var U=n(V,2),j=c(U,!0);u(U),u(N),u(T),se(()=>{U.disabled=o(v),Y(j,o(v)?"Creating...":"Create Transaction")}),K("submit",N,_),E($,()=>o(a),s=>f(a,s)),E(B,()=>o(r),s=>f(r,s)),E(W,()=>o(p),s=>f(p,s)),E(L,()=>o(l),s=>f(l,s)),ue(w,()=>o(i),s=>f(i,s)),E(X,()=>o(d),s=>f(d,s)),Q(e,T),ce()}export{Me as component};
