import{c as W,a as x,d as X,f as B,s as Y,e as Z}from"../chunks/DLEunuUT.js";import{f as F,p as ee,d as f,B as te,u as ae,e,s as l,b as re,c as n,r as i,g as t,a as oe,t as z,am as se,n as le}from"../chunks/DGbS--Tb.js";import{i as ne}from"../chunks/n2OIzAHn.js";import{r as ie,b as ce}from"../chunks/C_moINmN.js";import{b as ue}from"../chunks/Bd0YDvlH.js";import{A as de}from"../chunks/O8ipqUYK.js";import{b as pe,u as fe,c as ve,d as be}from"../chunks/DS7p5xUN.js";import{S as me}from"../chunks/cj_QiOwn.js";import{P as _e}from"../chunks/LaCJMPtk.js";import"../chunks/W9-4QCck.js";import{I as he,s as ge}from"../chunks/DwLzMF7g.js";import{l as xe,s as ye}from"../chunks/DifGwDUE.js";function we(y,b){const m=xe(b,["children","$$slots","$$events","$$legacy"]);const d=[["path",{d:"M10 11v6"}],["path",{d:"M14 11v6"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}],["path",{d:"M3 6h18"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}]];he(y,ye({name:"trash-2"},()=>m,{get iconNode(){return d},children:(o,c)=>{var a=W(),r=F(a);ge(r,b,"default",{}),x(o,a)},$$slots:{default:!0}}))}var Ae=B('<button type="button" class="px-4 py-3 rounded-lg bg-red-600 hover:bg-red-700 text-white font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 justify-center"><!> Delete</button>'),$e=B('<form class="p-4 flex flex-col gap-4 flex-1 overflow-y-auto"><div class="flex flex-col gap-2"><label for="account-name" class="text-sm text-neutral-400">Account Name</label> <input id="account-name" type="text" placeholder="e.g., Cash, Bank Account" required class="bg-neutral-800 text-white px-3 py-2 rounded border border-neutral-700 focus:border-blue-500 outline-none disabled:opacity-50"/></div> <div class="flex flex-col gap-2"><label for="account-currency" class="text-sm text-neutral-400">Currency</label> <select id="account-currency" class="bg-neutral-800 text-white px-3 py-2 rounded border border-neutral-700 focus:border-blue-500 outline-none disabled:opacity-50"><option>EUR</option><option>USD</option><option>RUB</option><option>ARS</option></select></div> <div class="flex gap-2 mt-4"><!> <button type="submit" class="flex-1 px-4 py-3 rounded-lg bg-blue-600 hover:bg-blue-700 text-white font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed"> </button></div></form>'),Se=B('<div class="min-h-screen bg-neutral-900 text-white pb-16 relative"><div class="sticky top-0 bg-neutral-900 border-neutral-800 px-4 py-4 flex items-center justify-between z-10"><h1 class="text-2xl font-bold">Accounts</h1> <button type="button" class="bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-full transition-colors"><!></button></div> <div class="p-4"><!></div></div> <!>',1);function He(y,b){ee(b,!0);let m=f(te([])),d=f(!1),o=f(""),c=f("EUR"),a=f(!1),r=f(null);ae(()=>{const s=pe.subscribe(p=>{p&&e(m,p,!0)});return()=>s.unsubscribe()});function H(s){e(r,s,!0),e(o,s.name,!0),e(c,s.currency,!0),e(d,!0)}function I(){e(r,null),e(o,""),e(c,"EUR"),e(d,!0)}async function V(s){if(s.preventDefault(),!(!t(o).trim()||t(a))){e(a,!0);try{t(r)?await fe(t(r).id,t(o).trim(),t(c)):await ve(t(o).trim(),t(c)),e(d,!1),e(r,null),e(o,""),e(c,"EUR")}catch(p){console.error("Failed to save account:",p)}finally{e(a,!1)}}}function q(){t(a)||(e(d,!1),e(r,null),e(o,""),e(c,"EUR"))}async function L(){if(!(!t(r)||t(a))){e(a,!0);try{await be(t(r).id,""),e(d,!1),e(r,null),e(o,""),e(c,"EUR")}catch(s){console.error("Failed to delete account:",s)}finally{e(a,!1)}}}var D=Se(),w=F(D),A=n(w),$=l(n(A),2);$.__click=I;var Q=n($);_e(Q,{class:"w-6 h-6"}),i($),i(A);var M=l(A,2),T=n(M);de(T,{get accounts(){return t(m)},onAccountClick:H}),i(M),i(w);var G=l(w,2);{let s=se(()=>t(r)?"Edit Account":"New Account");me(G,{get show(){return t(d)},get title(){return t(s)},onClose:q,showBackButton:!0,fullHeight:!0,children:(p,Re)=>{var _=$e(),S=n(_),h=l(n(S),2);ie(h),oe(h,!0),i(S);var R=l(S,2),g=l(n(R),2),U=n(g);U.value=U.__value="EUR";var k=l(U);k.value=k.__value="USD";var C=l(k);C.value=C.__value="RUB";var N=l(C);N.value=N.__value="ARS",i(g),i(R);var P=l(R,2),j=n(P);{var J=u=>{var v=Ae();v.__click=L;var O=n(v);we(O,{class:"w-5 h-5"}),le(),i(v),z(()=>v.disabled=t(a)),x(u,v)};ne(j,u=>{t(r)&&u(J)})}var E=l(j,2),K=n(E,!0);i(E),i(P),i(_),z(u=>{h.disabled=t(a),g.disabled=t(a),E.disabled=u,Y(K,t(a)?"Saving...":t(r)?"Save Changes":"Create Account")},[()=>t(a)||!t(o).trim()]),Z("submit",_,V),ue(h,()=>t(o),u=>e(o,u)),ce(g,()=>t(c),u=>e(c,u)),x(p,_)},$$slots:{default:!0}})}x(y,D),re()}X(["click"]);export{He as component};
