const a=self,n="v2",s=`debitcredit-${n}`;a.addEventListener("install",e=>{e.waitUntil(a.skipWaiting())});a.addEventListener("activate",e=>{e.waitUntil(caches.keys().then(c=>Promise.all([...c.filter(t=>t.startsWith("debitcredit-")&&t!==s).map(t=>caches.delete(t)),a.clients.claim()])))});a.addEventListener("fetch",e=>{if(e.request.method!=="GET")return;const c=new URL(e.request.url);c.protocol!=="http:"&&c.protocol!=="https:"||c.pathname.includes("service-worker")||e.respondWith(fetch(e.request).then(t=>{if(t.ok&&t.status===200){const i=t.clone();caches.open(s).then(r=>{r.put(e.request,i).catch(()=>{})})}return t}).catch(async()=>{const t=await caches.match(e.request);if(t)return t;if(e.request.mode==="navigate"){const i=await caches.match("/");if(i)return i}return new Response("Offline - Please check your connection",{status:503,statusText:"Service Unavailable"})}))});
